<!doctype html>
<html lang="en">
<header>
<meta charset="UTF-8">
  <title>My Bucket List</title>
  <style>
    body {
      background-color: pink;
      font-family: Arial, sans-serif;
      text-align: center;
      padding: 40px;
    }

    h1 {
      color: black;
    }

    input {
      padding: 8px;
      font-size: 14px;
    }

    button {
      padding: 8px 12px;
      font-size: 14px;
      background-color: white;
    }

    #results {
      margin-top: 20px;
    }
  </style>
  <body>

  <h1>Places I Want to Visit</h1>

  <input id="cityInput" placeholder="Type a city!!" />
  <button onclick="searchCity()">Search</button>

  <div id="results"></div>

  <script>
    const apiKey = '0db4244d05msh9607e2dc3dbf452p15bc44jsndbc902e235de';

    async function searchCity() {
      const city = document.getElementById('cityInput').value;
      if (!city) {
        alert('Please enter a city name.');
        return;
      }

      const geoUrl = `https://opentripmap-places-v1.p.rapidapi.com/en/places/geoname?name=${city}`;
      const geoRes = await fetch(geoUrl, {
        headers: {
          'x-rapidapi-host': 'opentripmap-places-v1.p.rapidapi.com',
          'x-rapidapi-key': apiKey
        }
      });
      const geoData = await geoRes.json();
      const { lat, lon } = geoData;

      const placesUrl = `https://opentripmap-places-v1.p.rapidapi.com/en/places/radius?radius=5000&lon=${lon}&lat=${lat}&limit=5`;
      const placesRes = await fetch(placesUrl, {
        headers: {
          'x-rapidapi-host': 'opentripmap-places-v1.p.rapidapi.com',
          'x-rapidapi-key': apiKey
        }
      });
      const placesData = await placesRes.json();

      const results = document.getElementById('results');
      results.innerHTML = ''; // clear previous results

      placesData.features.forEach(place => {
        if (place.properties.name) {
          const p = document.createElement('p');
          p.textContent = place.properties.name;
          results.appendChild(p);
        }
      });
    }
  </script>

</body>
</html>